<!DOCTYPE html>
<html>
<head>
    <title>Fishing Game</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="fishCaught">
        <img id="fishImage" src="" alt="Caught Fish">
        <p id="fishName"></p>
        <p>Press SPACE to continue fishing</p>
    </div>
    <div id="collection">
        <button class="close-btn">&times;</button>
        <div class="collection-tabs">
            <button class="collection-tab active" data-tab="inventory">Inventory</button>
            <button class="collection-tab" data-tab="fish">Fish Collection</button>
        </div>
        <div class="collection-content" id="fishContent">
        <div class="fish-grid" id="fishGrid"></div>
    </div>
        <div class="collection-content active" id="inventoryContent">
            <div class="inventory-section">
                <h2>Fish Inventory</h2>
                <div id="fishInventoryGrid" class="fish-inventory-grid"></div>
            </div>
            <div class="inventory-section">
                <h2>Equipment</h2>
                <div id="inventoryGrid"></div>
            </div>
        </div>
    </div>
    <div id="fishShop">
        <button class="close-btn">&times;</button>
        <div class="shop-tabs">
            <button class="shop-tab active" data-tab="market">Fish Market</button>
            <button class="shop-tab" data-tab="upgrades">Upgrades</button>
        </div>
        <div class="shop-content active" id="marketContent">
            <div class="shop-header">
                <p>Sell your fish for coins!</p>
                <div class="shop-money">Your Money: <span id="shopMoney">0</span> coins</div>
            </div>
            <div class="shop-grid" id="shopGrid"></div>
            <div class="shop-notification" id="shopNotification"></div>
            <div class="shop-controls">
                <button class="shop-button" id="sellAll">Sell All Fish</button>
                <button class="shop-button close-shop">Close Shop</button>
            </div>
        </div>
        <div class="shop-content" id="upgradesContent">
            <div class="upgrade-grid" id="upgradeGrid"></div>
        </div>
    </div>
    <div id="moneyDisplay">0 coins</div>
    <div id="instructions">
        <h3>Controls</h3>
        <p><span class="key">W</span><span class="key">A</span><span class="key">S</span><span class="key">D</span> Move boat</p>
        <p><span class="key">SPACE</span> Start/stop fishing</p>
        <p><span class="key">TAB</span> View collection</p>
    </div>
    <div id="mobileControls">
        <div id="moveJoystickArea" class="joystickArea">
            <div id="moveJoystick" class="joystick"></div>
        </div>
        <div id="turnJoystickArea" class="joystickArea">
            <div id="turnJoystick" class="joystick"></div>
        </div>
        <div class="mobile-button-group">
            <button class="mobileButton" id="fishButton"></button>
            <button class="mobileButton" id="shopButton"></button>
            <button class="mobileButton" id="collectionButton"></button>
        </div>
    </div>
    <div id="questPrompt">Press E to talk</div>
    <div id="questMenu">
        <button class="close-quest">&times;</button>
        <h2>Old Fisherman's Quests</h2>
        <div class="quest-content" id="questContent">
            <div class="quest-item" id="shallowFishQuest">
                <h3>Collection: Shallow Water Specimens</h3>
                <p class="quest-description">"Arr, ye look like a spry young angler! These old bones can't navigate the shallows like they used to. I'm studyin' the local fish, see? Bring me one of each shallow water fish, and I'll reward ye with somethin' special I found years ago!"</p>
                
                <div class="quest-requirements">
                    <h4>Required Fish:</h4>
                    <ul id="shallowFishList">
                        <!-- Will be populated dynamically -->
                    </ul>
                </div>
                
                <div class="quest-reward">
                    <h4>Reward:</h4>
                    <p>Ancient Mariner's Compass</p>
                </div>
                
                <button id="completeShallowFishQuest" class="quest-button">Complete Quest</button>
            </div>
        </div>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <script src="fishConstants.js"></script>
    <script src="game.js"></script>
</body>
</html>